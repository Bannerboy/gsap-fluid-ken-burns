function KenBurns(e){var t=e.style.backgroundImage.match(/\((.*?)\)/)[1].replace(/('|")/g,""),a=e.kenburns=document.createElement("canvas"),n=a.getContext("2d"),c=window.devicePixelRatio&&window.devicePixelRatio>=2?2:1,s=new Image,l=e.offsetWidth,o=e.offsetHeight,i={scale:1};function r(){n.clearRect(0,0,l,o),n.save(),n.translate(l*(1-i.scale)*.5,o*(1-i.scale)*.5),n.scale(i.scale,i.scale),n.drawImage(s,0,0,l,o),n.restore()}return s.onload=function(){a.style.width=l+"px",a.width=l*c,a.style.height=o+"px",a.height=o*c,a.getContext("2d").scale(c,c),r(),e.style.backgroundImage=null,e.appendChild(a)},e.scaleTo=function(e,t,a){return TweenLite.to(i,t||1,{scale:e,ease:a||TweenLite.defaultEase,onUpdate:r})},e.scaleFrom=function(e,t,a){return TweenLite.from(i,t||1,{scale:e,ease:a||TweenLite.defaultEase,onUpdate:r})},s.src=t,e}
